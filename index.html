<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StylistPRO - Client Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ú® StylistPRO - Client Management System</h1>
        </header>

        <div class="main-content">
            <!-- Zak≈Çadki -->
            <div class="tabs-container">
                <button class="tab-button active" data-tab="klienci">Klienci</button>
                <button class="tab-button" data-tab="zaleglosci">Zaleg≈Ço≈õci</button>
                <button class="tab-button" data-tab="statystyki">Statystyki</button>
            </div>

            <!-- Zawarto≈õƒá zak≈Çadek -->
            <div class="tabs-content">
                <!-- Zak≈Çadka Zaleg≈Ço≈õci -->
                <div id="zaleglosci" class="tab-content">
                    <section class="arrears-section">
                        <div class="section-header">
                            <h2>Zaleg≈Ço≈õci do rozliczenia</h2>
                            <span id="arrearsCount" class="client-count">0 klient√≥w</span>
                        </div>
                        <div id="arrearsList" class="arrears-list">
                            <p class="empty-message">Brak zaleg≈Ço≈õci! Wszyscy klienci rozliczeni. üéâ</p>
                        </div>
                    </section>
                </div>

                <!-- Zak≈Çadka Statystyki -->
                <div id="statystyki" class="tab-content">
                    <section class="stats-section">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-label">Klienci razem</div>
                                <div class="stat-value" id="statTotalClients">0</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Ca≈Çkowity przych√≥d</div>
                                <div class="stat-value" id="statTotalRevenue">0.00 z≈Ç</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Przych√≥d 30 dni</div>
                                <div class="stat-value" id="statRevenue30Days">0.00 z≈Ç</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">Najpopularniejsza us≈Çuga</div>
                                <div class="stat-value" id="statMostPopular">‚Äî</div>
                            </div>
                            <div class="stat-card stat-card-arrears">
                                <div class="stat-label">Nale≈ºno≈õci do zap≈Çaty</div>
                                <div class="stat-value stat-value-arrears" id="statTotalArrears">0.00 z≈Ç</div>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Zak≈Çadka Klienci -->
                <div id="klienci" class="tab-content active">
            <section class="form-section">
                <h2>Dodaj nowego klienta</h2>
                <form id="newClientForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="newClientName">Imiƒô i nazwisko:</label>
                            <input type="text" id="newClientName" required>
                        </div>
                        <div class="form-group">
                            <label for="newClientPhone">Numer telefonu:</label>
                            <input type="tel" id="newClientPhone">
                        </div>
                        <div class="form-group">
                            <label for="newClientEmail">Email:</label>
                            <input type="email" id="newClientEmail">
                        </div>
                        <div class="form-group">
                            <label for="newClientNotes">Uwagi o kliencie:</label>
                            <textarea id="newClientNotes" rows="3" placeholder="np. lubi kr√≥tkie w≈Çosy, alergia na kosmetyki..."></textarea>
                        </div>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn btn-primary">Dodaj nowego klienta</button>
                        <button type="button" id="resetNewClientBtn" class="btn btn-secondary">Wyczy≈õƒá</button>
                    </div>
                </form>
            </section>

            <!-- Formularz dodawania nowej us≈Çugi -->
            <section class="form-section">
                <h2>Dodaj nowƒÖ us≈Çugƒô dla klienta</h2>
                <form id="clientForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="clientSelect">Wybierz klienta:</label>
                            <select id="clientSelect" required>
                                <option value="">-- Wybierz klienta --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="serviceType">Rodzaj us≈Çugi:</label>
                            <select id="serviceType">
                                <option value="">Wybierz us≈Çugƒô</option>
                                <option value="strzy≈ºenie">Strzy≈ºenie</option>
                                <option value="farbowanie">Farbowanie</option>
                                <option value="czesanie">Czeszemy</option>
                                <option value="golenie">Golenie</option>
                                <option value="farba-strzy≈ºenie">Farba + Strzy≈ºenie</option>
                                <option value="inne">Inne</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="serviceDate">Data us≈Çugi:</label>
                            <input type="date" id="serviceDate" required>
                        </div>
                        <div class="form-group">
                            <label for="servicePrice">Cena (z≈Ç):</label>
                            <input type="number" id="servicePrice" min="0" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="notes">Uwagi:</label>
                            <textarea id="notes" rows="3" placeholder="Dodatkowe informacje o us≈Çudze"></textarea>
                        </div>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn btn-primary">Dodaj us≈Çugƒô</button>
                        <button type="button" id="resetBtn" class="btn btn-secondary">Wyczy≈õƒá formularz</button>
                    </div>
                </form>
            </section>

            <!-- Wyszukiwanie i filtrowanie -->
            <section class="search-section">
                <div class="search-controls">
                    <input type="text" id="searchInput" placeholder="Szukaj klienta po imieniu, nazwisku lub telefonie...">
                    <select id="filterService">
                        <option value="">Wszystkie us≈Çugi</option>
                        <option value="strzy≈ºenie">Strzy≈ºenie</option>
                        <option value="farbowanie">Farbowanie</option>
                        <option value="czesanie">Czeszemy</option>
                        <option value="golenie">Golenie</option>
                        <option value="farba-strzy≈ºenie">Farba + Strzy≈ºenie</option>
                        <option value="inne">Inne</option>
                    </select>
                </div>
                <div class="export-controls">
                    <button type="button" id="exportBtn" class="btn btn-success">Eksportuj CSV</button>
                    <button type="button" id="exportJsonBtn" class="btn btn-success">Backup danych</button>
                    <button type="button" id="importJsonBtn" class="btn btn-success">Przywr√≥ƒá dane</button>
                    <input type="file" id="importFileInput" accept=".json" style="display: none;">
                </div>
            </section>

            <!-- Lista klient√≥w -->
            <section class="clients-section">
                <div class="section-header">
                    <h2>Klienci w bazie</h2>
                    <div class="section-controls">
                        <select id="sortBy" class="sort-select">
                            <option value="name">Sortuj: Imiƒô (A-Z)</option>
                            <option value="name-desc">Sortuj: Imiƒô (Z-A)</option>
                            <option value="lastService">Sortuj: Ostatnia wizyta</option>
                            <option value="totalSpent">Sortuj: Przych√≥d</option>
                        </select>
                        <span id="clientCount" class="client-count">0 klient√≥w</span>
                    </div>
                </div>
                <div id="clientsList" class="clients-list">
                    <p class="empty-message">Baza klient√≥w jest pusta. Dodaj pierwszego klienta!</p>
                </div>
            </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal do edycji danych klienta -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edytuj dane klienta</h2>
                <button class="modal-close" onclick="closeEditModal()">&times;</button>
            </div>
            <form id="editForm">
                <div class="form-group">
                    <label for="editClientName">Imiƒô i nazwisko:</label>
                    <input type="text" id="editClientName" required>
                </div>
                <div class="form-group">
                    <label for="editClientPhone">Numer telefonu:</label>
                    <input type="tel" id="editClientPhone">
                </div>
                <div class="form-group">
                    <label for="editClientEmail">Email:</label>
                    <input type="email" id="editClientEmail">
                </div>
                <div class="form-group">
                    <label for="editClientNotes">Uwagi o kliencie:</label>
                    <textarea id="editClientNotes" rows="3" placeholder="np. lubi kr√≥tkie w≈Çosy, alergia na kosmetyki..."></textarea>
                </div>
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">Zapisz zmiany</button>
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">Anuluj</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal do edycji us≈Çugi -->
    <div id="editServiceModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edytuj us≈Çugƒô</h2>
                <button class="modal-close" onclick="closeEditServiceModal()">&times;</button>
            </div>
            <form id="editServiceForm">
                <div class="form-group">
                    <label for="editServiceType">Rodzaj us≈Çugi:</label>
                    <select id="editServiceType">
                        <option value="">Wybierz us≈Çugƒô</option>
                        <option value="strzy≈ºenie">Strzy≈ºenie</option>
                        <option value="farbowanie">Farbowanie</option>
                        <option value="czesanie">Czeszemy</option>
                        <option value="golenie">Golenie</option>
                        <option value="farba-strzy≈ºenie">Farba + Strzy≈ºenie</option>
                        <option value="inne">Inne</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editServiceDate">Data us≈Çugi:</label>
                    <input type="date" id="editServiceDate" required>
                </div>
                <div class="form-group">
                    <label for="editServicePrice">Cena (z≈Ç):</label>
                    <input type="number" id="editServicePrice" min="0" step="0.01">
                </div>
                <div class="form-group">
                    <label for="editServiceNotes">Uwagi:</label>
                    <textarea id="editServiceNotes" rows="3" placeholder="Dodatkowe informacje o us≈Çudze"></textarea>
                </div>
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">Zapisz zmiany</button>
                    <button type="button" class="btn btn-secondary" onclick="closeEditServiceModal()">Anuluj</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal do rozliczania klienta -->
    <div id="settlementModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Rozliczenie klienta</h2>
                <button class="modal-close" onclick="closeSettlementModal()">&times;</button>
            </div>
            <div class="settlement-info">
                <p><strong>Klient:</strong> <span id="settlementClientName"></span></p>
                <p><strong>Ca≈Çkowity przych√≥d:</strong> <span id="settlementTotal" class="amount">0.00 z≈Ç</span></p>
                <p><strong>Zap≈Çacono:</strong> <span id="settlementPaid" class="amount">0.00 z≈Ç</span></p>
                <p><strong>Do zap≈Çaty:</strong> <span id="settlementDue" class="amount amount-due">0.00 z≈Ç</span></p>
            </div>
            <form id="settlementForm">
                <div class="form-group">
                    <label for="settlementAmount">Kwota do zap≈Çaty (z≈Ç):</label>
                    <input type="number" id="settlementAmount" min="0" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="settlementDate">Data wp≈Çaty:</label>
                    <input type="date" id="settlementDate" required>
                </div>
                <div class="form-group">
                    <label for="settlementMethod">Spos√≥b p≈Çatno≈õci:</label>
                    <select id="settlementMethod">
                        <option value="got√≥wka">Got√≥wka</option>
                        <option value="karta">Karta</option>
                        <option value="przelew">Przelew</option>
                    </select>
                </div>
                <div class="button-group">
                    <button type="submit" class="btn btn-primary">Zapisz wp≈Çatƒô</button>
                    <button type="button" class="btn btn-secondary" onclick="closeSettlementModal()">Anuluj</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal z pe≈ÇnƒÖ historiƒÖ us≈Çug -->
    <div id="allServicesModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Pe≈Çna historia us≈Çug - <span id="allServicesClientName"></span></h2>
                <button class="modal-close" onclick="closeAllServicesModal()">&times;</button>
            </div>
            <div id="allServicesList" class="services-list">
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
